(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(t,n,e){"use strict";e.r(n);var a=e(1),r=e.n(a),o=e(26),i=e.n(o),u=(e(71),e(72),e(16)),c=e(10),l=e(64),s=e(38),d=e.n(s),p=e(57),b=(d.a.configure({name:"Mao box github"}).use(Object(p.reactotronRedux)()).connect(),d.a),f=e(63),m=e(22),h={all:[],modalVisible:!1,userToAdd:{},loading:!1,requestError:""},g={SET_POSITION:"@users/SET_POSITION",USER_DATA_REQUEST:"@users/USER_DATA_REQUEST",USER_DATA_SUCCESS:"@users/USER_DATA_SUCCESS",USER_DATA_FAILURE:"@users/USER_DATA_FAILURE"};var v={userDataRequest:function(t){return{type:g.USER_DATA_REQUEST,payload:{user:t}}},userDataSuccess:function(t){return{type:g.USER_DATA_SUCCESS,payload:{data:t}}},setPosition:function(t){return{type:g.SET_POSITION,payload:{position:t}}}},E=Object(c.c)({users:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case g.SET_POSITION:return Object(m.a)({},t,{modalVisible:!0,userToAdd:{position:n.payload.position}});case g.USER_DATA_REQUEST:return Object(m.a)({},t,{loading:!0});case g.USER_DATA_SUCCESS:var e=Object(m.a)({},t.userToAdd);return e.data=n.payload.data,Object(m.a)({},t,{all:[].concat(Object(f.a)(t.all),[e]),modalVisible:!1,loading:!1});case g.USER_DATA_FAILURE:return Object(m.a)({},t,{requestError:n.payload.error,loading:!1,modalVisible:!1});default:return t}}}),x=e(21),O=e.n(x),S=e(17),j=e(58),y=e.n(j).a.create({baseURL:"https://api.github.com/users"}),A=O.a.mark(_);function _(t){var n,e,a;return O.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(S.b)(y.get,t.payload.user);case 3:return n=r.sent,e=n.data,a={login:e.login,avatar_url:e.avatar_url,id:e.id},r.next=8,Object(S.c)({type:g.USER_DATA_SUCCESS,payload:{data:a}});case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(0),r.next=14,Object(S.c)({type:g.USER_DATA_FAILURE,payload:{error:r.t0.message}});case 14:case"end":return r.stop()}},A,null,[[0,10]])}var w=O.a.mark(T);function T(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=S.a,t.next=3,Object(S.d)(g.USER_DATA_REQUEST,_);case 3:t.t1=t.sent,t.t2=[t.t1],(0,t.t0)(t.t2);case 6:case"end":return t.stop()}},w)}var U=Object(l.a)(),k=Object(c.e)(E,Object(c.d)(Object(c.a)(U),b.createEnhancer()));U.run(T);var R=k,C=e(28),D=e(29),I=e(31),q=e(30),J=e(32),V=e(41),L=e(13),P=e(14);function Q(){var t=Object(L.a)(["\n\tborder-radius: 100%;\n\tbox-shadow: -1px 2px 5px black;\n\twidth: 50px;\n\theight: 50px;\n\tbackground-image: url(",");\n\tbackground-size: cover;\n"]);return Q=function(){return t},t}var F=P.a.div(Q(),function(t){return t.avatar_url}),N=function(t){function n(){var t,e;Object(C.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=Object(I.a)(this,(t=Object(q.a)(n)).call.apply(t,[this].concat(r)))).state={viewport:{width:"100vw",height:"100vh",latitude:37.7577,longitude:-122.4376,zoom:14}},e.handleMapClick=function(t){var n=t.lngLat,a={lat:n[1],lng:n[0]};e.props.setPosition(a)},e}return Object(J.a)(n,t),Object(D.a)(n,[{key:"render",value:function(){var t=this,n=this.props.users;return r.a.createElement(V.b,Object.assign({},this.state.viewport,{mapboxApiAccessToken:this.props.token,onClick:function(n){return t.handleMapClick(n)}}),n.map(function(t){return r.a.createElement(V.a,{key:t.data.id,latitude:t.position.lat,longitude:t.position.lng},r.a.createElement(F,{avatar_url:t.data.avatar_url}))}))}}]),n}(a.Component);N.defaultProps={token:"pk.eyJ1IjoiZnJlc2F0dG8iLCJhIjoiY2pzOWJ0dTk4MWt4YTQ5dGZlNWh5YjB6YyJ9.WcFJT9u2Vy6CUtsDb7O6HQ"};var W=Object(u.b)(function(t){return{users:t.users.all}},function(t){return Object(c.b)(v,t)})(N);function z(){var t=Object(L.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-bottom: 0.5rem;\n\tborder-bottom: 1px solid #cccccc73;\n\tpadding-bottom: 0.5rem;\n\n\t:last-child {\n\t\tmargin-bottom: 0;\n\t\tborder-bottom: none;\n\t\tpadding-bottom: 0;\n\t}\n\n\th3 {\n\t\tmargin: 0;\n\t\tline-height: 1;\n\t\tfont-size: 14px;\n\t\tfont-weight: 500;\n\t\tmargin: 0 0.5rem;\n\t}\n\n\timg {\n\t\twidth: 30px;\n\t\theight: 30px;\n\t\tborder-radius: 100%;\n\t}\n\n\tsvg {\n\t\tfont-size: 21px;\n\t\tcolor: darkred;\n\t}\n"]);return z=function(){return t},t}function M(){var t=Object(L.a)(["\n\tlist-style: none;\n\tpadding: 0;\n\tmargin: 0;\n"]);return M=function(){return t},t}function Y(){var t=Object(L.a)(["\n\tposition: fixed;\n\tborder-radius: 3px;\n\tleft: 5px;\n\ttop: 5px;\n\tpadding: 10px;\n\tbackground: #fff;\n\tbox-shadow: 2px 2px 5px -2px #9b9a9a;\n"]);return Y=function(){return t},t}var B=P.a.aside(Y()),G=P.a.ul(M()),Z=P.a.li(z()),H=e(62),$=Object(u.b)(function(t){return{users:t.users.all}})(function(t){var n=t.users;return r.a.createElement(B,null,r.a.createElement(G,null,n.length?n.map(function(t){return r.a.createElement(Z,{key:t.data.id},r.a.createElement("img",{src:t.data.avatar_url,alt:"avatar github"}),r.a.createElement("h3",null,t.data.login),r.a.createElement(H.a,null))}):r.a.createElement("p",null,"Nenhum usu\xe1rio cadastrado.")))});function K(){var t=Object(L.a)(["\n\tflex: 1;\n\tmargin-left: 0.2rem;\n\tborder: none;\n\tpadding: 8px;\n\tborder-radius: 3px;\n\tbackground-color: #ff5d5d;\n\tcolor: #fff;\n\ttext-shadow: -1px 1px 1px #939393;\n\tcursor: pointer;\n"]);return K=function(){return t},t}function X(){var t=Object(L.a)(["\n\tflex: 1;\n\tmargin-right: 0.2rem;\n\tborder: none;\n\tpadding: 8px;\n\tborder-radius: 3px;\n\tbackground-color: #99c0f8;\n\tcolor: #fff;\n\ttext-shadow: -1px 1px 1px #939393;\n\tcursor: pointer;\n"]);return X=function(){return t},t}function tt(){var t=Object(L.a)(["\n\tdisplay: flex;\n"]);return tt=function(){return t},t}function nt(){var t=Object(L.a)(["\n\twidth: 100%;\n\tmargin-bottom: 0.4rem;\n\tpadding: 5px;\n\tborder-radius: 3px;\n\tborder: 1px solid #9b9b9b;\n"]);return nt=function(){return t},t}function et(){var t=Object(L.a)(["\n\tbackground: white;\n\tborder-radius: 3px;\n\tpadding: 20px;\n\twidth: 100%;\n\tmax-width: 290px;\n"]);return et=function(){return t},t}function at(){var t=Object(L.a)(["\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100vw;\n\theight: 100vh;\n\tbackground-color: rgba(0, 0, 0, 0.9);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tvisibility: ",";\n"]);return at=function(){return t},t}var rt=P.a.div(at(),function(t){return t.visibility}),ot=P.a.form(et()),it=P.a.input(nt()),ut=P.a.div(tt()),ct=P.a.button(X()),lt=P.a.button(K()),st=function(t){function n(){var t,e;Object(C.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=Object(I.a)(this,(t=Object(q.a)(n)).call.apply(t,[this].concat(r)))).state={query:""},e.handleInputChange=function(t){e.setState({query:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.userDataRequest(e.state.query),e.setState({query:""})},e}return Object(J.a)(n,t),Object(D.a)(n,[{key:"componentDidMount",value:function(){this.nameInput.focus()}},{key:"render",value:function(){var t=this,n=this.props,e=n.modalVisible,a=n.loading;return r.a.createElement(rt,{visibility:e?"block":"hidden"},r.a.createElement(ot,{onSubmit:function(n){return t.handleSubmit(n)}},r.a.createElement(it,{type:"text",placeholder:"Usu\xe1rio no github",value:this.state.query,onChange:function(n){return t.handleInputChange(n)},ref:function(n){t.nameInput=n}}),r.a.createElement(ut,null,r.a.createElement(ct,{type:"submit"},a?"Carregando...":"Salvar"),r.a.createElement(lt,{type:"button"},"Cancelar"))))}}]),n}(a.Component),dt=Object(u.b)(function(t){return{modalVisible:t.users.modalVisible,loading:t.users.loading}},function(t){return Object(c.b)(v,t)})(st);var pt=function(){return r.a.createElement(u.a,{store:R},r.a.createElement(W,null),r.a.createElement($,null),r.a.createElement(dt,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(pt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},66:function(t,n,e){t.exports=e(106)},71:function(t,n,e){},72:function(t,n,e){}},[[66,1,2]]]);
//# sourceMappingURL=main.83a44b98.chunk.js.map